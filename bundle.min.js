function Rectangle(e,t){var a=Number(e),i=Number(t);this.area=function(){return a*i},this.perimeter=function(){return 2*(a+i)}}function valid(e){var t={isOK:!1,reason:""};return""===e?t.reason="不能为空!":Number(e)<0?t.reason="不能为负数!":/^-?(0|[1-9]\d*)(\.\d*)?([eE][+-]?\d+)?$/.test(e)?t.isOK=!0:t.reason="不合法!",t}$(function(){var n=$("#width"),l=$("#height"),e=$("#calculate"),o=$("#perimeter"),s=$("#area"),v=$("#width-validation"),u=$("#height-validation");n.focusout(function(){var e=valid(n.val());if(!e.isOK)return v.html("宽度"+e.reason),void n.select();v.html("")}),l.focusout(function(){var e=valid(l.val());if(!e.isOK)return u.html("高度"+e.reason),void l.select();u.html("")}),e.click(function(){var e=n.val(),t=l.val(),a=valid(e),i=valid(t);a.isOK||(v.html("宽度"+a.reason),n.select()),i.isOK||(u.html("高度"+i.reason),l.select());var r=new Rectangle(e,t);o.val(r.perimeter()),s.val(r.area())})});